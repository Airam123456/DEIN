package controller;

import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;

import javafx.scene.control.TextField;

import java.net.URL;
import java.sql.SQLException;
import java.util.ResourceBundle;

import dao.DeporteDAO;
import dao.DeportistaDAO;
import dao.EquipoDAO;
import dao.ParticipacionDAO;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.event.ActionEvent;

import javafx.scene.control.ListView;

import javafx.scene.control.ComboBox;

import javafx.scene.input.MouseEvent;
import model.Deportista;
import model.Equipo;
import model.Participacion;

public class ParticipacionesController implements Initializable {
	@FXML
	private ListView listParticipaciones;
	@FXML
	private ListView listDeportista;
	@FXML
	private Button btnAgregar;
	@FXML
	private Button btnEditar;
	@FXML
	private Button btnBorrar;
	@FXML
	private Button btnCancelar;
	@FXML
	private ComboBox cboxEquipo;
	@FXML
	private ComboBox cboxMedalla;
	@FXML
	private TextField txtEdad;
	
	private int idEvento;
	private ObservableList<Deportista> deportistas;
	private DeportistaDAO cargarDeportistas;
	private Deportista d;
	
	private ObservableList<Participacion> participaciones;
	private ParticipacionDAO cargarPArticipaciones;
	private Participacion p;
	
	private ObservableList<Equipo> equipos;
	private EquipoDAO cargarEquipos;
	private Equipo eq;
	
	private String medallas[] = {"Gold", "Silver", "Bronze", "Sin medalla"};
	

	// Event Listener on ListView[#listParticipaciones].onMouseClicked
	@FXML
	public void selectParticipaciones(MouseEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on ListView[#listDeportista].onMouseClicked
	@FXML
	public void selectDeportista(MouseEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on Button[#btnAgregar].onAction
	@FXML
	public void agregar(ActionEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on Button[#btnEditar].onAction
	@FXML
	public void editar(ActionEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on Button[#btnBorrar].onAction
	@FXML
	public void borrar(ActionEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on Button[#btnCancelar].onAction
	@FXML
	public void cancelar(ActionEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on ComboBox[#cboxEquipo].onAction
	@FXML
	public void seleccionarEquipo(ActionEvent event) {
		// TODO Autogenerated
	}
	// Event Listener on ComboBox[#cboxMedalla].onAction
	@FXML
	public void seleccionarMedalla(ActionEvent event) {
		// TODO Autogenerated
	}
	@Override
	public void initialize(URL arg0, ResourceBundle arg1) {
		// TODO Auto-generated method stub
		
		deportistas = FXCollections.observableArrayList();
		try {
			cargarDeportistas = new DeportistaDAO();
			deportistas.addAll(cargarDeportistas.selectDeportista());
			listDeportista.setItems(deportistas);

		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		equipos = FXCollections.observableArrayList();

		try {
			cargarEquipos = new EquipoDAO();
			equipos.addAll(cargarEquipos.selectEquipos());
			cboxEquipo.setItems(equipos);
			cboxEquipo.getSelectionModel().selectFirst();
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		cboxMedalla =  new ComboBox(FXCollections.observableArrayList(medallas));
	}
}
